{% extends "website/layout.html" %} {% block title %}–ü—Ä–æ—Ñ–∏–ª—å{% endblock %} {% load static %} {% block body %} {% comment %} Profile {% endcomment %}
<div class="profile">
  {% comment %} Username, CEFR lvl {% endcomment %}
  <b>{{request.user.first_name}}</b>
  <span class="{% if request.user.cefr.0 == 'A' %}lvlA{% elif request.user.cefr.0 == 'B' %}lvlB1{% elif request.user.cefr.0 == 'C' %}lvlC1{% endif %}">{{ request.user.cefr }}</span>

  {% if request.user.google %}
  <div style="margin: 10px 0px">
    <a target="‚Äù_blank‚Äù" href="{{request.user.google}}">
      <svg class="smaller-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path fill="currentColor" d="M7.71 3.5L1.15 15l3.43 6l6.55-11.5M9.73 15L6.3 21h13.12l3.43-6m-.57-1L15.42 2H8.57l6.86 12h6.85Z" />
      </svg>
      Google Drive
    </a>
  </div>
  {% endif %}

  <div class="progress-bar" style="--width: {{request.user.progress}};" data-label=""></div>
  <div class="date_time_smaller">Progress to the next <a target="‚Äù_blank‚Äù" href="https://www.efset.org/ru/english-score/">CEFR lvl</a>: {{request.user.progress}}%</div>
</div>

{% comment %} Student Study Plan {% endcomment %} {% if entries_by_topic %}
<div class="center-basic">
  <table id="studyPlan">
    <th class="table-toggle" data-table-header colspan="4">–£—á–µ–±–Ω—ã–π –ø–ª–∞–Ω üìö</th>

    <tbody data-table-content class="hidden">
      {% for theory_entry, entries in entries_by_topic.items %}
      <tr>
        <td class="studyPlan-topic-cell centered-text" colspan="4"><span class="studyPlan-topic">{{theory_entry.topic}}</span></td>
      </tr>
      {% for entry in entries %}
      <tr>
        <td style="text-align: center">
          <span class="{% if entry.title.cefr.0 == 'A' %}lvlA{% elif entry.title.cefr.0 == 'B' %}lvlB1{% elif entry.title.cefr.0 == 'C' %}lvlC1{% endif %}">{{entry.title.cefr}}</span>
        </td>
        <td><a target="‚Äù_blank‚Äù" href="{{entry.title.url}}">{{entry.title.title}}</a></td>
        <td style="text-align: center">
          {% if entry.grade == 0 %} <span class="date_time">-</span> {% else %}
          <b class="{% if entry.grade >= 8 %}good_grade{% elif entry.grade >= 5 %}sat_grade{% else %}bad_grade{% endif %}">{{entry.grade}}</b> {% endif %}
        </td>
        <td style="text-align: center">{% if entry.grade == 0 %}<span class="date_time">-</span>{% elif entry.grade >= 8 %}‚úÖ{% elif entry.grade >= 5 %}‚ùó{% else %}‚ùå{% endif %}</td>
      </tr>
      {% endfor %} {% endfor %}
    </tbody>
  </table>
</div>

{% if request.user.comment and request.user.teacher == False %}
<div class="center-basic smaller test-fold"><a>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è üí¨</a></div>
<div style="max-width: 800px" class="margin-top center-basic test-container fold">
  <hr class="hr-faint" />
  <span style="white-space: pre-wrap">{{request.user.comment}}</span>
  <hr class="hr-faint" />
</div>
{% endif %} {% else %}
<h4 class="centered-text">–°–∫–æ—Ä–æ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –≤–∞—à –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π —É—á–µ–±–Ω—ã–π –ø–ª–∞–Ω ü§ì</h4>
{% endif %} {% comment %} Student Ege Results {% endcomment %} {% if ege_results %}
<h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–±–Ω–∏–∫–æ–≤</h3>
{% for result in ege_results %}
<a href="{% url 'ege_result' ege_testname=result.test_proper.ege_testname %}">
  <div class="one-line">
    <span class="lvlC1">–ï–ì–≠</span> {{result.test_proper.ege_testname}}: {% if not result.speaking_audio %}—Å–¥–∞–π—Ç–µ —É—Å—Ç–Ω—É—é —á–∞—Å—Ç—å‚ùó {% elif result.speaking_audio and not result.checked %}–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ ‚åõ{%
    elif result.speaking_audio and result.checked %}–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ ‚úÖ{% endif %} <span class="date_time">{{result.date|date:"F j"}}</span>
  </div>
</a>
{% endfor %}
<hr class="hr-faint" />
{% endif %} {% comment %} Test results {% endcomment %} {% if gpa is None %}
<h4 class="centered-text">–ó–¥–µ—Å—å –±—É–¥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–µ—à–µ–Ω–Ω—ã—Ö –≤–∞–º–∏ <a href="/tests">—Ç–µ—Å—Ç–æ–≤</a> ü§ì</h4>
{% else %}
<h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤</h3>
{% comment %} GPA {% endcomment %} {% if gpa >= 8 %}
<div class="underline margin-bottom">GPA: <b class="good_grade">{{gpa|floatformat}}</b> üòè</div>
{% elif gpa >= 5 %}
<div class="underline margin-bottom">GPA: <b class="sat_grade">{{gpa|floatformat}}</b> üòê</div>
{% else %}
<div class="underline margin-bottom">GPA: <b class="bad_grade">{{gpa|floatformat}}</b> üòí</div>
{% endif %} {% if distinct_theories.0 != None %}
<div class="folder folder-tablet fancy-shadow margin-bottom">–°—Ç–æ–∏—Ç –ø–æ–≤—Ç–æ—Ä–∏—Ç—å<span class="emoji-margin">üîÑ</span></div>
<div class="collapsible">
  <div class="date_time">–°—é–¥–∞ –ø–æ–ø–∞–¥–∞—é—Ç —Ç–µ–º—ã —Ç–µ—Å—Ç–æ–≤, –∑–∞ –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –ø–æ–ª—É—á–∏–ª–∏ –æ—Ü–µ–Ω–∫—É –Ω–∏–∂–µ <b>8</b> –±–∞–ª–ª–æ–≤</div>
  {% for item in distinct_theories %} {% if item != None %}
  <a target="‚Äù_blank‚Äù" href="{{item.url}}"
    ><div class="one-line">
      <span class="{% if item.cefr.0 == 'A' %}lvlA{% elif item.cefr.0 == 'B' %}lvlB1{% elif item.cefr.0 == 'C' %}lvlC1{% endif %}">{{item.cefr}}</span> {{item.title}}<span class="emoji-margin"
        >üìï</span
      >
    </div></a
  >
  {% endif %} {% if forloop.last %}
  <hr class="hr-faint" />
  {% endif %} {% endfor %}
</div>
{% endif %} {% for theory_entry, results_data in results_by_topic.items %}
<div class="folder folder-tablet margin-bottom">
  {{ theory_entry.topic }}
  <span class="{% if results_data.average_grade >= 8 %}good_grade{% elif results_data.average_grade >= 5 %}sat_grade{% else %}bad_grade{% endif %}">
    {% if results_data.average_grade >= 8 %}
    <b>{{results_data.average_grade|floatformat}} ‚úÖ</b>
    {% elif results_data.average_grade >= 5 %}
    <b>{{results_data.average_grade|floatformat}}‚ùó</b>
    {% else %}
    <b>{{results_data.average_grade|floatformat}} ‚ùå</b>
    {% endif %}
  </span>
</div>

<div class="collapsible">
  {% for result in results_data.results %}
  <a href="{% url 'solved_test' testname=result.test_proper.url %}">
    <div class="one-line">
      <span class="{% if result.test_proper.lvl.0 == 'A' %}lvlA{% elif result.test_proper.lvl.0 == 'B' %}lvlB1{% elif result.test_proper.lvl.0 == 'C' %}lvlC1{% endif %}"
        >{{result.test_proper.lvl}}</span
      >
      {{result.test_proper.testname}} <span class="{% if result.grade >= 8 %}good_grade{% elif result.grade >= 5 %}sat_grade{% else %}bad_grade{% endif %}">{{result.grade|floatformat}}</span>
      <span class="date_time">{{result.date|date:"F j"}}</span>
    </div>
  </a>
  {% if forloop.last %}
  <hr class="hr-faint" />
  {% endif %} {% endfor %}
</div>
{% endfor %} {% endif %} {% endblock %}
